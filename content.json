{"meta":{"title":"1","subtitle":"","description":"","author":"Jas wang","url":"http://jas-wang.fun","root":"/"},"pages":[{"title":"友情链接","date":"2020-07-17T07:44:32.297Z","updated":"2020-07-17T06:33:08.714Z","comments":true,"path":"links/index.html","permalink":"http://jas-wang.fun/links/index.html","excerpt":"","text":""},{"title":"关于","date":"2020-07-17T07:47:29.392Z","updated":"2020-07-17T06:33:08.713Z","comments":false,"path":"about/index.html","permalink":"http://jas-wang.fun/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"分类","date":"2020-07-17T07:46:41.639Z","updated":"2020-07-17T06:33:08.713Z","comments":false,"path":"categories/index.html","permalink":"http://jas-wang.fun/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-07-17T05:15:29.000Z","updated":"2020-07-17T07:33:20.785Z","comments":false,"path":"tags/index.html","permalink":"http://jas-wang.fun/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"PHP性能优化","slug":"php","date":"2020-07-17T01:52:46.000Z","updated":"2020-07-17T09:56:54.278Z","comments":true,"path":"2020/07/17/php/","link":"","permalink":"http://jas-wang.fun/2020/07/17/php/","excerpt":"","text":"摘要对线上站点做压力测试的时候，我们一定要将请求数和并发数，特别是并发数要设置的比较低，我们不能对线上的网站造成压力问题，不管是自己的还是别人的。PHP性能问题一般不会超过占整个项目性能的50%，一般在30%~40%。 PHP 性能问题的解决方向一、语言级性能优化(一) 指的是PHP语法基本功能，这部分优化比较简单易见、快速可行，比较快速看到效果 1.压力测试工具 Apache Benchmark (ab) ab 是由 Apache 提供的压力测试软件，安装 apache 服务器时会自带该压力测试软件123456$ ./ab -n1000 -c100 http://www.baidu.com/-n ：总共的请求执行数，缺省是1；-c： 并发数，缺省是1；-t：测试所进行的总时间，秒为单位，缺省50000s-p：POST时的数据文件-w: 以HTML表的格式输出结果 参考项1234567Failed requests: 0 &#x2F;&#x2F;失败的请求数量。因网络原因或服务器性能原因，发起的请求并不一定全部成功，通过该数值和Complete requests相除可以计算请求的失败率，作为测试结果的重要参考。Total transferred: 103314 bytes&#x2F;&#x2F;总共传输的数据量，指的是ab从被测服务器接收到的总数据量，包括index.html的文本内容和请求头信息。HTML transferred: 22700 bytes &#x2F;&#x2F;从服务器接收到的index.html文件的总大小，等于Document Length＊Complete requests＝227 bytes＊100＝22700 bytesRequests per second: 91.50 [#&#x2F;sec] (mean) &#x2F;&#x2F;平均(mean)每秒完成的请求数：QPS，这是一个平均值，等于Complete requests&#x2F;Time taken for tests&#x3D;100&#x2F;1.093&#x3D;91.50Time per request: 109.287 [ms] (mean) &#x2F;&#x2F;从用户角度看，完成一个请求所需要的时间（因用户数量不止一个，服务器完成10个请求，平均每个用户才接收到一个完整的返回，所以该值是下一项数值的10倍。）Time per request: 10.929 [ms] (mean, across all concurrent requests)&#x2F;&#x2F; 服务器完成一个请求的时间。Transfer rate: 92.32 [Kbytes&#x2F;sec] received&#x2F;&#x2F;网络传输速度。对于大文件的请求测试，这个值很容易成为系统瓶颈所在。要确定该值是不是瓶颈，需要了解客户端和被测服务器之间的网络情况，包括网络带宽和网卡速度等信息。 2.PHP 自身能力 性能问题：自身代码冗余较多，可读性不佳，并且性能低。 为什么性能低：PHP 代码需要编译解释为底层语言，这一过程每次请求都会处理一遍，开销大。 好的方法：多实用 PHP 内置变量、常量、函数。","categories":[{"name":"PHP","slug":"PHP","permalink":"http://jas-wang.fun/categories/PHP/"}],"tags":[{"name":"php底层优化","slug":"php底层优化","permalink":"http://jas-wang.fun/tags/php%E5%BA%95%E5%B1%82%E4%BC%98%E5%8C%96/"}]}],"categories":[{"name":"PHP","slug":"PHP","permalink":"http://jas-wang.fun/categories/PHP/"}],"tags":[{"name":"php底层优化","slug":"php底层优化","permalink":"http://jas-wang.fun/tags/php%E5%BA%95%E5%B1%82%E4%BC%98%E5%8C%96/"}]}